# kgh
/* 이 코드는 적외선센서로 좌표평면상에 나타내는 코드이다.*/
/* created by KGH                          */
#include <Servo.h>
Servo sservo;
byte angle[90]={};
double save[2][2]={};
int distance;

void setup(){
  Serial.begin(9600);
  sservo.attach(6);
}
void loop(){
 byte cnt=0;
  for(int i=0;i<90;i++){
    sservo.write(i);
    distance=(27.61/(map(analogRead(sensor),0,1023,0,5000)-0.1696))*1000;
    Serial.println(i);
    Serial.print(distance);
    Serial.println("cm");
    Serial.println();
    delay(10);
    if(distance<=angle[i]&&cnt==0){
      save[0][0]=distance*cos(radians(i));
      save[0][1]=distance*sin(radians(i));
      cnt=1;
    }
    else if(distance<=angle[i]&&cnt==1){
      save[1][0]=distance*cos(radians(i));
      save[1][1]=distance*sin(radians(i));
      cnt=2;
    }
    else if(cnt==2){
      xphone=((save[0][0]+save[1][0])/2);
      yphone=((save[0][1]+save[1][1])/2);
    }
  }
}
